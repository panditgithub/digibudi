{% load static %}
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/js/bootstrap-select.min.js"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/css/bootstrap-select.min.css" rel="stylesheet" />
	<script src="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js"type="text/javascript"></script>
	<link href="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css"rel="stylesheet" type="text/css" />
	<link rel="stylesheet" href="{% static 'static2/css/bootstrap.min.css' %}">
	<link rel="stylesheet" href="{% static 'static2/css/style.css' %}" >
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	
</head>

	<script>
    $(function () {
			$('#users').multiselect({
				includeSelectAllOption: true
			});
			$('#btnSelected').click(function () {
				var selected = $("#lstFruits option:selected");
				var message = "";
				selected.each(function () {
					message += $(this).text() + " " + $(this).val() + "\n";
				});
			});
		});
	</script>
<body>
{% include 'header_new.html' %}
<div class="chat_ui add_new_group">
	<div class="container LandingContainer">
		<div class="chatUi_item">
			<div class="chatUi_left">
				<div class="top_hadding_topBar">
					<h6>Message</h6>
					<div class="search_outer">
						<input type="text" placeholder="Search" onkeyup="search(this)" id="search_message">
						<img src="{%static 'static2/images/chatUi_sarch_ic.svg'%}" alt="search_icon">
					  </div>	
					  <div class="">
					  <a href="" class="add_new_btn">Add New Group</a>	
					  </div>
					  <div class="chat_group_buttons">	
						<a href="{% url 'group_chat_page' %}" class="add_new_btn mt-0">Group</a>		
						<a href="{% url 'project_chat_page' %}" class="add_new_btn mt-0">Project Group</a>	
					  </div>	

				</div>	
				
				<div class="contact_list" id="searchresultdiv">
					{% for data in room %}
					<div class="contact_listItem">
						{% if data.chatType == "is_group" %}
						<a class="search_name" style="text-decoration: none;" href="/group_chat/{{data.unique_code}}">
					  <div class="contact_listItem_left">
						<div class="chat_item_outer1">
							<img class="rightimg" src="{%static 'static2/images/default_client.png'%}" alt="thumb">
						  <div class="chat_item_right1">
						 <h6>{{data.name}}</h6>
						  </div>
						</div>
						
					  </div>
					</a>
					{% endif %} 
					  <div class="contact_listItem_right">
						{% comment %} <span class="time">10:34PM</span>
						<span class="Date">03</span> {% endcomment %}
					  </div>
					</div>
					{% endfor %}
				  </div>	
				  	
			  </div>
			<div class="chatUi_right center_content">
			<form action="" method="post">
				{% csrf_token %}
			
					<input type="text" name="group" placeholder="Enter Group Name">
				{% comment %} <select name="users" id="users" multiple> {% endcomment %}
				
				
					<select class="form-control selectpicker" name="users" id="select-country users" multiple="multiple" data-live-search="true">

						{% for user in users %}
						<option value="{{user}}">{{user}}</option>
						{% endfor %}
					</select>
			
				<button class="sbmt_btn" type="submit">Submit</button>
			</form>
		</div>
		</div>
	</div>
</div>	
<script>
  
    function search(e){
      let data=document.getElementsByClassName('search_name');
     // console.log(e)
      var term =e.value;
      var regex= new RegExp(term,'gi')
          for (let i = 0; i < data.length; i++) {
            if(data[i].innerHTML.match(regex)){
              console.log(data[i].closest('.contact_listItem').style.display='block')
            }else{
              console.log(data[i].closest('.contact_listItem').style.display='none')
            }
            
            
            let thediv=$('#searchresultdiv');
          }
          //var temp1= data.filter((lo)=>{
            //  return lo.name.match(regex);
          //})
    }
  </script>
<script src="{% static 'static2/js/bootstrap.bundle.min.js' %}"></script>
</body>
</html>
